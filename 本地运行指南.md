# 🐱 Cat Comfort Game - 本地运行指南

## 🚀 快速启动

### 方法 1: 使用 PowerShell 脚本（推荐）
```powershell
.\start-local.ps1
```

### 方法 2: 使用 npm 命令
```bash
npm run local
```
或者
```bash
npm run start:local
```

### 方法 3: 使用批处理文件（Windows）
```cmd
start-local.bat
```

## 🎮 访问游戏

启动后，游戏将在以下地址运行：
- **本地地址**: http://localhost:7474
- **网络地址**: http://YOUR_IP:7474 (用于移动设备测试)

## ✨ 本地测试模式特性

- ✅ **完全独立运行** - 无需 Devvit 设置
- ✅ **实时预览** - 代码修改后自动刷新
- ✅ **移动端兼容** - 支持手机和平板访问
- ✅ **本地存储** - 游戏数据保存在浏览器中
- ✅ **调试友好** - 控制台输出详细信息
- ✅ **热更新** - 修改代码后立即生效

## 🔧 故障排除

### 端口被占用
如果端口 7474 被占用，可以使用其他端口：
```bash
cd src/client
npx vite --port 8080 --host --open
```

### 依赖问题
如果遇到依赖问题，尝试重新安装：
```bash
npm install
```

### 清除缓存
如果遇到缓存问题：
```bash
npm run clean
npm install
npm run local
```

## 📱 移动设备测试

1. 确保电脑和手机在同一个WiFi网络
2. 启动本地服务器
3. 在手机浏览器访问: http://你的电脑IP:7474
4. 查看电脑IP的方法:
   ```cmd
   ipconfig
   ```

## 🛠️ 开发模式

如果您需要修改代码并看到实时效果：

```bash
# 启动开发服务器（带热更新）
npm run local

# 在新的终端窗口中启动类型检查
npm run type-check -- --watch
```

## 📝 测试功能

本地测试模式包含完整的游戏功能：

- 🎮 游戏启动页面（新集成的UI）
- 🐱 玩家设置和角色选择
- 🌡️ 温度控制游戏玩法
- 🏆 排行榜系统（本地存储）
- 📊 游戏统计和成绩
- 🎵 音效控制
- ❓ 帮助系统

## 🔍 调试信息

游戏运行时，打开浏览器开发者工具（F12），在Console标签中查看详细的调试信息：

- 🧪 测试模式启用状态
- 🌐 环境检测结果
- 🎮 游戏状态变化
- 📊 性能监控数据

## 📞 需要帮助？

如果遇到问题，请检查：

1. Node.js 版本是否为 18+ 
2. npm 依赖是否正确安装
3. 防火墙是否阻止了端口 7474
4. 浏览器控制台是否有错误信息

---

**享受游戏吧！** 🎉 